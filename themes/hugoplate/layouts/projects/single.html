{{ define "main" }}
<section class="section pt-14 pb-20">
  <div class="container">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
      
      <!-- 사이드바 -->
      <div class="lg:col-span-3 order-2 lg:order-1">
        <div class="sticky top-24 bg-theme-light dark:bg-[#222222] p-6 rounded-xl border border-border dark:border-white/10">
          <h4 class="mb-4 text-lg font-bold border-b border-border dark:border-white/10 pb-2 text-dark dark:text-white">
            프로젝트 목록
          </h4>
          <ul class="space-y-1">
            <li>
              <a href="/projects/" class="block py-2 px-3 rounded transition font-medium text-sm text-dark dark:text-white/90
                 hover:bg-black hover:text-white
                 dark:hover:bg-white dark:hover:text-black">
                <i class="fa fa-th-large mr-2"></i>전체 보기
              </a>
            </li>
            {{ range .CurrentSection.RegularPages.ByWeight }}
            <li>
              <a href="{{ .RelPermalink }}" 
                 class="block py-2 px-3 rounded transition text-sm
                 {{ if eq $.Permalink .Permalink }}
                   bg-primary text-white font-bold shadow-md
                 {{ else }}
                   text-text dark:text-white/70
                   hover:bg-black hover:text-white
                   dark:hover:bg-white dark:hover:text-black
                 {{ end }}">
                {{ .Title }}
              </a>
            </li>
            {{ end }}
          </ul>
        </div>
      </div>

      <!-- 본문 컨텐츠 -->
      <div class="lg:col-span-9 order-1 lg:order-2">
        <div class="bg-white dark:bg-[#222222] p-8 md:p-10 rounded-2xl shadow-sm border border-border dark:border-white/10">
          
          <!-- 헤더 -->
          <div class="mb-8 border-b border-border dark:border-white/10 pb-6">
            <!-- [수정] 라벨 색상 변경: 다크모드에서 흰색(60%) -->
            <span class="font-bold text-sm uppercase tracking-wider text-primary dark:text-white/60">
              Project Team
            </span>
            <h1 class="h2 mt-2 mb-4 text-dark dark:text-white">{{ .Title }}</h1>
            <p class="text-lg text-text dark:text-white/80">{{ .Description }}</p>
          </div>

          <!-- 본문 -->
          <div class="content project-content text-text dark:text-white/80">
            {{ .Content }}
          </div>

          <!-- 하단 네비게이션 -->
          <div class="mt-12 flex justify-between border-t border-border dark:border-white/10 pt-8">
            {{ with .PrevInSection }}
            <!-- [수정] 기본 흰색 -> 호버 시 Primary -->
            <a href="{{ .RelPermalink }}" class="text-sm font-bold text-dark dark:text-white hover:text-primary dark:hover:text-primary flex items-center transition-colors">
              <i class="fa fa-arrow-left mr-2"></i> {{ .Title }}
            </a>
            {{ else }}
            <span></span>
            {{ end }}

            {{ with .NextInSection }}
            <a href="{{ .RelPermalink }}" class="text-sm font-bold text-dark dark:text-white hover:text-primary dark:hover:text-primary flex items-center transition-colors">
              {{ .Title }} <i class="fa fa-arrow-right ml-2"></i>
            </a>
            {{ end }}
          </div>
          
        </div>
      </div>

    </div>
  </div>
</section>

<style>
  /* 라이트 모드 스타일 */
  .project-content aside {
    background-color: rgba(var(--color-primary-rgb), 0.05);
    border-left: 4px solid var(--color-primary);
    padding: 1.25rem;
    border-radius: 0.5rem;
    margin-bottom: 2rem;
    font-style: normal;
    color: inherit;
  }

  /* 다크모드 대응 */
  :is(.dark) .project-content aside {
    background-color: rgba(255, 255, 255, 0.05);
    border-left-color: var(--color-primary); /* 포인트 컬러 유지는 하되 */
    color: #eeeeee; /* 글자는 밝은 회색/흰색으로 확실하게 */
  }
  
  :is(.dark) .project-content ul, 
  :is(.dark) .project-content ol {
    color: rgba(255, 255, 255, 0.85);
  }
  
  :is(.dark) .project-content h1,
  :is(.dark) .project-content h2,
  :is(.dark) .project-content h3 {
    color: #ffffff;
  }
  
  /* 링크 색상도 다크모드에서 잘 보이게 */
  :is(.dark) .project-content a {
    color: #ffffff;
    text-decoration: underline;
    text-decoration-color: var(--color-primary);
  }
</style>
{{ end }}